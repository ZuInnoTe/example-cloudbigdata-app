<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head> 
    <title>JPA Demonstration</title> 
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <!-- default header name is X-CSRF-TOKEN -->
    <meta name="_csrf_header" th:content="${_csrf.parameterName}"/>
	<!-- Stylesheets -->
        <link href="/cloudbigdata/css/simplelayout.css" type="text/css" rel="stylesheet" />
    	<link href="/cloudbigdata/css/ui-lightness/jquery-ui.css" type="text/css" rel="stylesheet" />
	<link href="/cloudbigdata/js/themes/jqueryui/jtable_jqueryui.css" rel="stylesheet" type="text/css" />
 	<!-- Scripts -->
        <script src="/cloudbigdata/js/jquery-2.1.4.js" type="text/javascript"></script>
        <script src="/cloudbigdata/js/jquery-ui.js" type="text/javascript"></script>
 
        <script src="/cloudbigdata/js/jquery.jtable.min.js" type="text/javascript"></script>
        <script src="/cloudbigdata/js/external/json2.min.js" type="text/javascript"></script>
    <script type="text/javascript"> 
 $(document).ready(function () {
        $('#CustomerTableContainer').jtable({
            title: 'Table of customer',
	    paging: true, 
            pageSize: 10, 
            actions: {
                listAction: '/cloudbigdata/jpa/listcustomer?'+$("meta[name='_csrf_header']").attr("content")+"="+$("meta[name='_csrf']").attr("content"),
                createAction: '/cloudbigdata/jpa/createcustomer?'+$("meta[name='_csrf_header']").attr("content")+"="+$("meta[name='_csrf']").attr("content"),
                updateAction: '/cloudbigdata/jpa/updatecustomer?'+$("meta[name='_csrf_header']").attr("content")+"="+$("meta[name='_csrf']").attr("content"),
                deleteAction: '/cloudbigdata/jpa/deletecustomer?'+$("meta[name='_csrf_header']").attr("content")+"="+$("meta[name='_csrf']").attr("content")
            },
            fields: {
                id: {
                    key: true,
                    list: false
                },
                firstName: {
                    title: 'Firstname',
                    width: '40%'
                },
                lastName: {
                    title: 'Lastname',
                    width: '20%'
                },
		location: {
		    title: 'Location',
		    width: '20%'
		}
            }
        });
	      $('#CustomerTableContainer').jtable('load'); 
    });
    </script>
</head>
<body>

	<div>
		<div id="header" th:include="header :: header">
		</div>
		<div id="menu" th:include="menu :: menu">
		</div>
		<div id="content">
			<div id="CustomerTableContainer"></div>	
		</div>
		<div id="footer" th:include="footer :: footer">
		</div>
</div>
</body>
</html>
